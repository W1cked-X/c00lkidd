-- ════════════════════════════════════════════════════════════
--   c00lkidd RED ULTIMATE v2 • MOBILE + PC • FLY REMOVED
--   Invis • Noclip • ESP • Speed • JumpPower • Fullbright
--   Tiny toggle button • Perfect mobile fit • Red theme
-- ════════════════════════════════════════════════════════════

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")
local lp = Players.LocalPlayer

-- ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "c00lkiddRED"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.CoreGui

-- TINY RED TOGGLE BUTTON (Top Left - Mobile Perfect)
local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Size = UDim2.new(0, 55, 0, 55)
ToggleBtn.Position = UDim2.new(0, 15, 0, 15)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
ToggleBtn.Text = "CK"
ToggleBtn.TextColor3 = Color3.new(1,1,1)
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.TextSize = 24
ToggleBtn.Parent = ScreenGui

local tCorner = Instance.new("UICorner", ToggleBtn)
tCorner.CornerRadius = UDim.new(1, 0)
local tStroke = Instance.new("UIStroke", ToggleBtn)
tStroke.Color = Color3.fromRGB(255, 0, 0)
tStroke.Thickness = 3

-- Main Frame (Mobile Friendly Size)
local Main = Instance.new("Frame")
Main.Size = UDim2.new(0, 380, 0, 480)
Main.Position = UDim2.new(0.5, -190, 0.5, -240)
Main.BackgroundColor3 = Color3.fromRGB(18, 0, 0)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Main.Visible = false
Main.Parent = ScreenGui

local Corner = Instance.new("UICorner", Main)
Corner.CornerRadius = UDim.new(0, 16)
local Stroke = Instance.new("UIStroke", Main)
Stroke.Color = Color3.fromRGB(255, 30, 30)
Stroke.Thickness = 4

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 55)
Title.BackgroundTransparency = 1
Title.Text = "c00lkidd RED ULTIMATE"
Title.TextColor3 = Color3.fromRGB(255, 80, 80)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 28
Title.Parent = Main

-- Scrolling Frame
local Scroll = Instance.new("ScrollingFrame")
Scroll.Size = UDim2.new(1, -20, 1, -80)
Scroll.Position = UDim2.new(0, 10, 0, 65)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 8
Scroll.ScrollBarImageColor3 = Color3.fromRGB(255, 0, 0)
Scroll.CanvasSize = UDim2.new(0, 0, 0, 800)
Scroll.Parent = Main

local Layout = Instance.new("UIListLayout", Scroll)
Layout.Padding = UDim.new(0, 12)
Layout.SortOrder = Enum.SortOrder.LayoutOrder

-- Toggle States
local Toggles = {
    Invis = false, Noclip = false, ESP = false, Fullbright = false,
    Speed = false, InfJump = false, Godmode = false
}

-- Character Update
local function UpdateChar()
    char = lp.Character or lp.CharacterAdded:Wait()
    hum = char:WaitForChild("Humanoid")
    root = char:WaitForChild("HumanoidRootPart")
end
lp.CharacterAdded:Connect(UpdateChar)
if lp.Character then UpdateChar() end

-- Create Toggle Button
local function CreateToggle(name, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, -20, 0, 65)
    btn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
    btn.Text = name .. " [OFF]"
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 22
    btn.Parent = Scroll
    
    local c = Instance.new("UICorner", btn)
    c.CornerRadius = UDim.new(0, 12)
    local s = Instance.new("UIStroke", btn)
    s.Color = Color3.fromRGB(255, 100, 100)
    s.Thickness = 2
    
    btn.MouseButton1Click:Connect(function()
        Toggles[name] = not Toggles[name]
        btn.Text = name .. (Toggles[name] and " [ON]" or " [OFF]")
        btn.BackgroundColor3 = Toggles[name] and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(150, 0, 0)
        s.Color = Toggles[name] and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 100, 100)
        callback(Toggles[name])
    end)
end

-- INVISIBILITY (BIGGEST BUTTON)
CreateToggle("INVISIBILITY", function(on)
    if not char then return end
    for _, part in pairs(char:GetDescendants()) do
        if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
            part.Transparency = on and 1 or 0
        elseif part:IsA("Accessory") and part:FindFirstChild("Handle") then
            part.Handle.Transparency = on and 1 or 0
        end
    end
    if char.Head:FindFirstChild("face") then
        char.Head.face.Transparency = on and 1 or 0
    end
end)

-- NOCLIP
CreateToggle("NOCLIP", function(on)
    if on then
        local conn
        conn = RunService.Stepped:Connect(function()
            if not Toggles.NOCLIP or not char then 
                conn:Disconnect()
                return 
            end
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end)
    end
end)

-- ESP
CreateToggle("ESP", function(on)
    for _, plr in pairs(Players:GetPlayers()) do
        if plr.Character then
            local hl = plr.Character:FindFirstChild("c00lkiddESP")
            if on and not hl then
                hl = Instance.new("Highlight")
                hl.Name = "c00lkiddESP"
                hl.FillColor = Color3.fromRGB(255, 0, 0)
                hl.OutlineColor = Color3.fromRGB(255, 100, 100)
                hl.FillTransparency = 0.4
                hl.Parent = plr.Character
            elseif not on and hl then
                hl:Destroy()
            end
        end
    end
end)

-- FULLBRIGHT
CreateToggle("FULLBRIGHT", function(on)
    Lighting.Brightness = on and 3 or 1
    Lighting.GlobalShadows = not on
    Lighting.FogEnd = on and 9e9 or 100000
end)

-- SPEED
CreateToggle("SPEED 100", function(on)
    if hum then hum.WalkSpeed = on and 100 or 16 end
end)

-- INFINITE JUMP
CreateToggle("INF JUMP", function(on)
    -- Handled globally below
end)
UserInputService.JumpRequest:Connect(function()
    if Toggles["INF JUMP"] and hum then
        hum:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- GODMODE
CreateToggle("GODMODE", function(on)
    if hum then
        hum.MaxHealth = on and math.huge or 100
        hum.Health = on and math.huge or 100
    end
end)

-- Auto Canvas Size
Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    Scroll.CanvasSize = UDim2.new(0, 0, 0, Layout.AbsoluteContentSize.Y + 20)
end)

-- Toggle GUI
local guiOpen = false
ToggleBtn.MouseButton1Click:Connect(function()
    guiOpen = not guiOpen
    Main.Visible = guiOpen
    ToggleBtn.Text = guiOpen and "X" or "CK"
    ToggleBtn.BackgroundColor3 = guiOpen and Color3.fromRGB(200, 0, 0) or Color3.fromRGB(150, 0, 0)
end)

-- Insert Keybind
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Insert then
        ToggleBtn.MouseButton1Click:Fire()
    end
end)

print("c00lkidd RED ULTIMATE v2 LOADED • Tiny Toggle • Mobile Perfect • Fly Removed")
